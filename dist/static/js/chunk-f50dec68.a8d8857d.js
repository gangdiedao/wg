(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f50dec68"],{"09f4":function(t,e,a){"use strict";a.d(e,"a",(function(){return r})),Math.easeInOutQuad=function(t,e,a,i){return t/=i/2,t<1?a/2*t*t+e:(t--,-a/2*(t*(t-2)-1)+e)};var i=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}();function n(t){document.documentElement.scrollTop=t,document.body.parentNode.scrollTop=t,document.body.scrollTop=t}function o(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function r(t,e,a){var r=o(),s=t-r,l=20,c=0;e="undefined"===typeof e?500:e;var d=function t(){c+=l;var o=Math.easeInOutQuad(c,r,s,e);n(o),c<e?i(t):a&&"function"===typeof a&&a()};d()}},6724:function(t,e,a){"use strict";a("8d41");var i="@@wavesContext";function n(t,e){function a(a){var i=Object.assign({},e.value),n=Object.assign({ele:t,type:"hit",color:"rgba(0, 0, 0, 0.15)"},i),o=n.ele;if(o){o.style.position="relative",o.style.overflow="hidden";var r=o.getBoundingClientRect(),s=o.querySelector(".waves-ripple");switch(s?s.className="waves-ripple":(s=document.createElement("span"),s.className="waves-ripple",s.style.height=s.style.width=Math.max(r.width,r.height)+"px",o.appendChild(s)),n.type){case"center":s.style.top=r.height/2-s.offsetHeight/2+"px",s.style.left=r.width/2-s.offsetWidth/2+"px";break;default:s.style.top=(a.pageY-r.top-s.offsetHeight/2-document.documentElement.scrollTop||document.body.scrollTop)+"px",s.style.left=(a.pageX-r.left-s.offsetWidth/2-document.documentElement.scrollLeft||document.body.scrollLeft)+"px"}return s.style.backgroundColor=n.color,s.className="waves-ripple z-active",!1}}return t[i]?t[i].removeHandle=a:t[i]={removeHandle:a},a}var o={bind:function(t,e){t.addEventListener("click",n(t,e),!1)},update:function(t,e){t.removeEventListener("click",t[i].removeHandle,!1),t.addEventListener("click",n(t,e),!1)},unbind:function(t){t.removeEventListener("click",t[i].removeHandle,!1),t[i]=null,delete t[i]}},r=function(t){t.directive("waves",o)};window.Vue&&(window.waves=o,Vue.use(r)),o.install=r;e["a"]=o},7514:function(t,e,a){"use strict";var i=a("5ca1"),n=a("0a49")(5),o="find",r=!0;o in[]&&Array(1)[o]((function(){r=!1})),i(i.P+i.F*r,"Array",{find:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),a("9c6c")(o)},"7fc7":function(t,e,a){"use strict";var i=a("e4e7"),n=a.n(i);n.a},"8d41":function(t,e,a){},caa2:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("el-select",{staticClass:"filter-item",attrs:{placeholder:"请选择"+t.$t("i18nView.information.infoType")},on:{change:t.handleFilter},model:{value:t.listQuery.sort,callback:function(e){t.$set(t.listQuery,"sort",e)},expression:"listQuery.sort"}},t._l(t.infoTypeList,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1),t._v(" "),a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"请输入"+t.$t("i18nView.information.keyword")},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleFilter(e)}},model:{value:t.listQuery.title,callback:function(e){t.$set(t.listQuery,"title",e)},expression:"listQuery.title"}}),t._v(" "),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.handleFilter}},[t._v("\n      "+t._s(t.$t("i18nView.information.search"))+"\n    ")]),t._v(" "),a("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-edit"},on:{click:function(e){return t.handleCreateUpdate()}}},[t._v("\n      "+t._s(t.$t("i18nView.information.add"))+"\n    ")]),t._v(" "),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{loading:t.downloadLoading,type:"primary",icon:"el-icon-download"},on:{click:t.handleDownload}},[t._v("\n      "+t._s(t.$t("i18nView.information.export"))+"\n    ")]),t._v(" "),a("el-button",{staticClass:"filter-item",attrs:{type:"danger",icon:"el-icon-lock"},on:{click:t.handleLock}},[t._v("\n      "+t._s(t.$t("i18nView.information.lock"))+"\n    ")]),t._v(" "),a("el-button",{staticClass:"filter-item",attrs:{type:"success",icon:"el-icon-unlock"},on:{click:t.handleUnLock}},[t._v("\n      "+t._s(t.$t("i18nView.information.unLock"))+"\n    ")]),t._v(" "),a("el-button",{staticClass:"filter-item",attrs:{type:"danger",icon:"el-icon-circle-close"},on:{click:function(e){return t.handleDelete()}}},[t._v("\n      "+t._s(t.$t("i18nView.information.delete"))+"\n    ")])],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],key:t.tableKey,staticStyle:{width:"100%"},attrs:{data:t.list,stripe:"",border:"",fit:"","highlight-current-row":""},on:{"sort-change":t.sortChange,"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",align:"center",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("i18nView.information.id"),type:"index",sortable:"custom",align:"center",width:"80","class-name":t.getSortClass("id")}}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("i18nView.information.name"),width:"150px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(i.name))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("i18nView.information.infoType"),align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(i.info_type_name))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("i18nView.information.plan_group"),align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(i.plan_group))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("i18nView.information.code"),align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(i.code))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("i18nView.information.operator"),align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(i.op_user_name))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("i18nView.information.seller"),align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(i.sale_user_name))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("i18nView.information.company_name"),align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(i.company_name))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("i18nView.information.icon"),align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){var e=t.row;return[a("el-avatar",{attrs:{fit:"cover",shape:"square",src:e.logo}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("i18nView.information.pic"),align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("viewer",{attrs:{images:i.imagesArr}},t._l(i.imagesArr,(function(t){return a("el-avatar",{key:t.url,attrs:{fit:"cover",shape:"square",src:t.url}})})),1)]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("i18nView.information.files"),align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[0!=i.filesArr.length?a("i",{staticClass:"el-icon-folder"}):t._e()])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("i18nView.information.modifier"),align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(i.updated_user_name))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("i18nView.information.actions"),fixed:"right",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(e){return t.handleCreateUpdate(i)}}},[t._v("\n          "+t._s(t.$t("i18nView.information.edit"))+"\n        ")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(e){return t.handleDelete(i)}}},[t._v("\n          "+t._s(t.$t("i18nView.information.delete"))+"\n        ")])]}}])})],1),t._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total>0"}],attrs:{total:t.total,page:t.listQuery.page,limit:t.listQuery.limit},on:{"update:page":function(e){return t.$set(t.listQuery,"page",e)},"update:limit":function(e){return t.$set(t.listQuery,"limit",e)},pagination:t.getList}}),t._v(" "),a("productAddOrUpdate",{ref:"productAddOrUpdate",on:{callBcak:t.callBcak}})],1)},n=[],o=(a("55dd"),a("b775"));function r(t){return Object(o["a"])({url:"/admin/factordata/product/search",method:"get",params:t})}function s(t){return Object(o["a"])({url:"/admin/factordata/restaurant/search",method:"get",params:t})}function l(t){return Object(o["a"])({url:"/admin/system/admin/lists",method:"get",params:t})}function c(t){return Object(o["a"])({url:"/admin/factordata/company/search",method:"get",params:t})}function d(t){return Object(o["a"])({url:"/admin/system/datadict/listbytype",method:"get",params:t})}function u(t){return Object(o["a"])({url:"/admin/factordata/product/batsave",method:"post",data:t})}function p(t){return Object(o["a"])({url:"/admin/system/file/upload",method:"post",data:t})}function m(t){return Object(o["a"])({url:"/admin/factordata/product/add",method:"post",data:t})}function f(t){return Object(o["a"])({url:"/admin/factordata/product/edit",method:"post",data:t})}var h,_=a("6724"),y=a("ed08"),g=a("333d"),v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{visible:t.visible,title:t.dataForm.id?t.$t("i18nView.information.edit"):t.$t("i18nView.information.add"),"close-on-click-modal":!1,"close-on-press-escape":!1,center:"",customClass:"customWidth"},on:{"update:visible":function(e){t.visible=e}}},[a("el-form",{ref:"dataForm",attrs:{model:t.dataForm,rules:t.dataRule,"label-width":"120px"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.dataFormSubmitHandle()}}},[a("el-form-item",{attrs:{prop:"info_type_id",label:t.$t("i18nView.information.infoType")}},[a("el-select",{attrs:{placeholder:t.$t("i18nView.information.select")+t.$t("i18nView.information.infoType")},on:{change:t.typeChange},model:{value:t.dataForm.info_type_id,callback:function(e){t.$set(t.dataForm,"info_type_id",e)},expression:"dataForm.info_type_id"}},t._l(t.infoTypeList,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),t._v(" "),a("el-form-item",{attrs:{prop:"plan_group",label:t.$t("i18nView.information.plan_group")}},[a("el-input",{attrs:{placeholder:t.$t("i18nView.information.input")+t.$t("i18nView.information.plan_group")},model:{value:t.dataForm.plan_group,callback:function(e){t.$set(t.dataForm,"plan_group",e)},expression:"dataForm.plan_group"}})],1),t._v(" "),a("el-form-item",{attrs:{prop:"code",label:t.$t("i18nView.information.code")}},[a("el-input",{attrs:{placeholder:t.$t("i18nView.information.input")+t.$t("i18nView.information.code")},model:{value:t.dataForm.code,callback:function(e){t.$set(t.dataForm,"code",e)},expression:"dataForm.code"}})],1),t._v(" "),a("el-form-item",{attrs:{prop:"name",label:t.$t("i18nView.information.name")}},[a("el-input",{attrs:{placeholder:t.$t("i18nView.information.input")+t.$t("i18nView.information.name")},model:{value:t.dataForm.name,callback:function(e){t.$set(t.dataForm,"name",e)},expression:"dataForm.name"}})],1),t._v(" "),a("el-form-item",{attrs:{prop:"op_organization_id",label:t.$t("i18nView.information.operator")}},[a("el-select",{attrs:{placeholder:t.$t("i18nView.information.select")+t.$t("i18nView.information.operator")},on:{change:t.opChange},model:{value:t.dataForm.op_organization_id,callback:function(e){t.$set(t.dataForm,"op_organization_id",e)},expression:"dataForm.op_organization_id"}},t._l(t.userListArr,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),t._v(" "),a("el-form-item",{attrs:{prop:"sale_organization_id",label:t.$t("i18nView.information.seller")}},[a("el-select",{attrs:{placeholder:t.$t("i18nView.information.select")+t.$t("i18nView.information.seller")},on:{change:t.saleChange},model:{value:t.dataForm.sale_organization_id,callback:function(e){t.$set(t.dataForm,"sale_organization_id",e)},expression:"dataForm.sale_organization_id"}},t._l(t.userListArr,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),t._v(" "),a("el-form-item",{attrs:{prop:"company_id",label:t.$t("i18nView.information.company_name")}},[a("el-select",{attrs:{placeholder:t.$t("i18nView.information.select")+t.$t("i18nView.information.company_name")},on:{change:t.companyChange},model:{value:t.dataForm.company_id,callback:function(e){t.$set(t.dataForm,"company_id",e)},expression:"dataForm.company_id"}},t._l(t.companyListArr,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),t._v(" "),a("el-form-item",{attrs:{prop:"logo",label:t.$t("i18nView.information.icon")}},[""!=t.dataForm.logo?a("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:t.dataForm.logo,fit:"cover"}}):t._e(),t._v(" "),a("el-upload",{ref:"uploadIcon",staticClass:"upload-demo",staticStyle:{display:"inline-block"},attrs:{action:"string","show-file-list":!1,limit:1,"http-request":t.UploadIcon,"before-upload":t.onBeforeUploadImage,"on-exceed":t.handleExceed}},[a("el-button",{attrs:{type:"text",size:"small"}},[t._v("上传")])],1),t._v(" "),a("el-button",{staticStyle:{display:"inline-block"},attrs:{type:"text",size:"small"},on:{click:t.deleteIcon}},[t._v("删除")])],1),t._v(" "),a("el-form-item",{attrs:{prop:"imagesArr",label:t.$t("i18nView.information.pic")}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:"string","show-file-list":!0,"list-type":"picture-card","file-list":t.dataForm.imagesArr,"on-preview":t.handlePictureCardPreview,"on-remove":t.handleRemoveImage,"http-request":t.UploadImage,"before-upload":t.onBeforeUploadImage}},[a("i",{staticClass:"el-icon-plus"})]),t._v(" "),a("el-dialog",{attrs:{visible:t.dialogVisible,"append-to-body":""},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1),t._v(" "),a("el-form-item",{attrs:{prop:"filesArr",label:t.$t("i18nView.information.files")}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:"string","show-file-list":!0,"http-request":t.UploadFile,"file-list":t.dataForm.filesArr,"on-remove":t.handleRemoveFile,"before-upload":t.onBeforeUploadFile}},[a("el-button",{attrs:{type:"primary",size:"small"}},[t._v("添加文件")])],1)],1),t._v(" "),a("el-divider",{attrs:{"content-position":"left"}},[t._v("计划信息")]),t._v(" "),a("el-form-item",{attrs:{label:t.$t("i18nView.information.tripDays")}},[a("el-input",{attrs:{placeholder:t.$t("i18nView.information.input")+t.$t("i18nView.information.tripDays")},model:{value:t.dataForm.product_dataArr.info.plan_day,callback:function(e){t.$set(t.dataForm.product_dataArr.info,"plan_day",e)},expression:"dataForm.product_dataArr.info.plan_day"}},[a("template",{slot:"append"},[t._v("(Exp:2-2-1 5N7D)")])],2)],1),t._v(" "),a("el-form-item",{attrs:{prop:"outlay",label:t.$t("i18nView.information.outlay")}},[a("el-input",{attrs:{placeholder:t.$t("i18nView.information.input")+t.$t("i18nView.information.outlay")},model:{value:t.dataForm.product_dataArr.info.outlay,callback:function(e){t.$set(t.dataForm.product_dataArr.info,"outlay",e)},expression:"dataForm.product_dataArr.info.outlay"}})],1),t._v(" "),a("el-form-item",{attrs:{prop:"cost",label:t.$t("i18nView.information.tourFee")}},[a("el-button",{staticClass:"filter-item",staticStyle:{"margin-bottom":"10px"},attrs:{type:"primary",size:"small"},on:{click:function(e){return t.handleCreate(1)}}},[t._v("\n      "+t._s(t.$t("i18nView.information.add"))+"\n    ")]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{prop:"name",label:"项目",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("el-input",{model:{value:i.name,callback:function(e){t.$set(i,"name",e)},expression:"row.name"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"price",label:"价格",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("el-input",{attrs:{type:"number"},model:{value:i.price,callback:function(e){t.$set(i,"price",e)},expression:"row.price"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"count",label:"数量",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("el-input",{attrs:{type:"number"},model:{value:i.count,callback:function(e){t.$set(i,"count",e)},expression:"row.count"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"total",label:"小计",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(i.total))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"type",label:"类型",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("el-select",{model:{value:i.type,callback:function(e){t.$set(i,"type",e)},expression:"row.type"}},t._l(t.proTypeList,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})})),1)]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"date",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){e.row;var i=e.$index;return[a("el-button",{attrs:{type:"text"},on:{click:function(e){return t.deleteData(i)}}},[t._v("删除")])]}}])})],1)],1),t._v(" "),a("el-form-item",{attrs:{prop:"from_city",label:t.$t("i18nView.information.origin")}},[a("el-input",{attrs:{placeholder:t.$t("i18nView.information.input")+t.$t("i18nView.information.origin")},model:{value:t.dataForm.product_dataArr.info.from_city,callback:function(e){t.$set(t.dataForm.product_dataArr.info,"from_city",e)},expression:"dataForm.product_dataArr.info.from_city"}},[a("template",{slot:"append"},[t._v("(Exp: 杭州 - 曼谷)")])],2)],1),t._v(" "),a("el-form-item",{attrs:{prop:"flight",label:t.$t("i18nView.information.flight")}},[a("el-input",{attrs:{placeholder:t.$t("i18nView.information.input")+t.$t("i18nView.information.flight")},model:{value:t.dataForm.product_dataArr.info.flight,callback:function(e){t.$set(t.dataForm.product_dataArr.info,"flight",e)},expression:"dataForm.product_dataArr.info.flight"}},[a("template",{slot:"append"},[t._v("(Exp:FT1 1530/1700; FT3 2300/0100+1 次日凌晨1点)")])],2)],1),t._v(" "),a("el-form-item",{attrs:{prop:"party_op",label:t.$t("i18nView.information.firstPartyOperation")}},[a("el-input",{attrs:{placeholder:t.$t("i18nView.information.input")+t.$t("i18nView.information.firstPartyOperation")},model:{value:t.dataForm.product_dataArr.exdata.party_op,callback:function(e){t.$set(t.dataForm.product_dataArr.exdata,"party_op",e)},expression:"dataForm.product_dataArr.exdata.party_op"}})],1),t._v(" "),a("el-form-item",{attrs:{prop:"source",label:t.$t("i18nView.information.touristDestination")}},[a("el-select",{attrs:{placeholder:t.$t("i18nView.information.select")+t.$t("i18nView.information.touristDestination")},on:{change:t.coChange},model:{value:t.dataForm.product_dataArr.exdata.source,callback:function(e){t.$set(t.dataForm.product_dataArr.exdata,"source",e)},expression:"dataForm.product_dataArr.exdata.source"}},t._l(t.cityListData,(function(t){return a("el-option",{key:t.id,attrs:{label:t.value,value:t.id}})})),1)],1),t._v(" "),a("el-form-item",{attrs:{prop:"market",label:t.$t("i18nView.information.market")}},[a("el-select",{attrs:{placeholder:t.$t("i18nView.information.select")+t.$t("i18nView.information.market")},on:{change:t.coChange},model:{value:t.dataForm.product_dataArr.exdata.market,callback:function(e){t.$set(t.dataForm.product_dataArr.exdata,"market",e)},expression:"dataForm.product_dataArr.exdata.market"}},t._l(t.marketListData,(function(t){return a("el-option",{key:t.id,attrs:{label:t.value,value:t.id}})})),1)],1),t._v(" "),a("el-form-item",{attrs:{prop:"shopping",label:t.$t("i18nView.information.buy")}},[a("el-select",{attrs:{multiple:"",placeholder:t.$t("i18nView.information.select")+t.$t("i18nView.information.buy")},on:{change:t.coChange},model:{value:t.dataForm.product_dataArr.exdata.shopping,callback:function(e){t.$set(t.dataForm.product_dataArr.exdata,"shopping",e)},expression:"dataForm.product_dataArr.exdata.shopping"}},t._l(t.buyListDatas,(function(t){return a("el-option",{key:t.id,attrs:{label:t.value,value:t.id}})})),1)],1),t._v(" "),a("el-form-item",{attrs:{prop:"self_cost",label:t.$t("i18nView.information.selfcost")}},[a("el-select",{attrs:{multiple:"",placeholder:t.$t("i18nView.information.select")+t.$t("i18nView.information.selfcost")},on:{change:t.coChange},model:{value:t.dataForm.product_dataArr.exdata.self_cost,callback:function(e){t.$set(t.dataForm.product_dataArr.exdata,"self_cost",e)},expression:"dataForm.product_dataArr.exdata.self_cost"}},t._l(t.selFcostData,(function(t){return a("el-option",{key:t.id,attrs:{label:t.value,value:t.id}})})),1)],1),t._v(" "),a("el-form-item",{attrs:{prop:"one_price",label:t.$t("i18nView.information.one_price")}},[a("el-input",{attrs:{placeholder:t.$t("i18nView.information.input")+t.$t("i18nView.information.one_price")},model:{value:t.dataForm.product_dataArr.exdata.one_price,callback:function(e){t.$set(t.dataForm.product_dataArr.exdata,"one_price",e)},expression:"dataForm.product_dataArr.exdata.one_price"}})],1),t._v(" "),a("el-form-item",{attrs:{prop:"passport",label:t.$t("i18nView.information.passport")}},[a("el-input",{attrs:{placeholder:t.$t("i18nView.information.input")+t.$t("i18nView.information.passport")},model:{value:t.dataForm.product_dataArr.exdata.passport,callback:function(e){t.$set(t.dataForm.product_dataArr.exdata,"passport",e)},expression:"dataForm.product_dataArr.exdata.passport"}})],1),t._v(" "),a("el-form-item",{attrs:{prop:"leader_expense",label:t.$t("i18nView.information.leader_expense")}},[a("el-select",{attrs:{multiple:"",placeholder:t.$t("i18nView.information.select")+t.$t("i18nView.information.leader_expense")},on:{change:t.coChange},model:{value:t.dataForm.product_dataArr.exdata.leader_expense,callback:function(e){t.$set(t.dataForm.product_dataArr.exdata,"leader_expense",e)},expression:"dataForm.product_dataArr.exdata.leader_expense"}},t._l(t.payTypeData,(function(t){return a("el-option",{key:t.id,attrs:{label:t.value,value:t.id}})})),1)],1),t._v(" "),a("el-form-item",{attrs:{prop:"service_expense",label:t.$t("i18nView.information.service_expense")}},[a("el-select",{attrs:{multiple:"",placeholder:t.$t("i18nView.information.select")+t.$t("i18nView.information.service_expense")},on:{change:t.coChange},model:{value:t.dataForm.product_dataArr.exdata.service_expense,callback:function(e){t.$set(t.dataForm.product_dataArr.exdata,"service_expense",e)},expression:"dataForm.product_dataArr.exdata.service_expense"}},t._l(t.serviceData,(function(t){return a("el-option",{key:t.id,attrs:{label:t.value,value:t.id}})})),1)],1),t._v(" "),a("el-form-item",{attrs:{prop:"pay_type",label:t.$t("i18nView.information.payType")}},[a("el-select",{attrs:{multiple:"",placeholder:t.$t("i18nView.information.select")+t.$t("i18nView.information.payType")},on:{change:t.coChange},model:{value:t.dataForm.product_dataArr.exdata.pay_type,callback:function(e){t.$set(t.dataForm.product_dataArr.exdata,"pay_type",e)},expression:"dataForm.product_dataArr.exdata.pay_type"}},t._l(t.payTypeData,(function(t){return a("el-option",{key:t.id,attrs:{label:t.value,value:t.id}})})),1)],1),t._v(" "),a("el-form-item",{attrs:{prop:"shopping_team_no",label:t.$t("i18nView.information.shopping_team_no")}},[a("el-input",{attrs:{placeholder:t.$t("i18nView.information.input")+t.$t("i18nView.information.shopping_team_no")},model:{value:t.dataForm.product_dataArr.exdata.shopping_team_no,callback:function(e){t.$set(t.dataForm.product_dataArr.exdata,"shopping_team_no",e)},expression:"dataForm.product_dataArr.exdata.shopping_team_no"}})],1),t._v(" "),a("el-form-item",{attrs:{prop:"kingpower_team_no",label:t.$t("i18nView.information.kingpower_team_no")}},[a("el-input",{attrs:{placeholder:t.$t("i18nView.information.input")+t.$t("i18nView.information.kingpower_team_no")},model:{value:t.dataForm.product_dataArr.exdata.kingpower_team_no,callback:function(e){t.$set(t.dataForm.product_dataArr.exdata,"kingpower_team_no",e)},expression:"dataForm.product_dataArr.exdata.kingpower_team_no"}})],1),t._v(" "),a("el-form-item",{attrs:{prop:"car_explain",label:t.$t("i18nView.information.car_explain")}},[a("el-input",{attrs:{placeholder:t.$t("i18nView.information.input")+t.$t("i18nView.information.car_explain"),type:"textarea"},model:{value:t.dataForm.product_dataArr.info.car_explain,callback:function(e){t.$set(t.dataForm.product_dataArr.info,"car_explain",e)},expression:"dataForm.product_dataArr.info.car_explain"}})],1),t._v(" "),a("el-form-item",{attrs:{prop:"room_explain",label:t.$t("i18nView.information.room_explain")}},[a("el-input",{attrs:{placeholder:t.$t("i18nView.information.input")+t.$t("i18nView.information.room_explain"),type:"textarea"},model:{value:t.dataForm.product_dataArr.info.room_explain,callback:function(e){t.$set(t.dataForm.product_dataArr.info,"room_explain",e)},expression:"dataForm.product_dataArr.info.room_explain"}})],1),t._v(" "),a("el-form-item",{attrs:{prop:"remark",label:t.$t("i18nView.information.remarks")}},[a("el-input",{attrs:{placeholder:t.$t("i18nView.information.input")+t.$t("i18nView.information.remarks"),type:"textarea"},model:{value:t.dataForm.product_dataArr.info.remark,callback:function(e){t.$set(t.dataForm.product_dataArr.info,"remark",e)},expression:"dataForm.product_dataArr.info.remark"}})],1),t._v(" "),a("el-divider",{attrs:{"content-position":"left"}},[t._v("行程信息")]),t._v(" "),a("el-button",{staticClass:"filter-item",staticStyle:{"margin-bottom":"10px"},attrs:{type:"primary",size:"small"},on:{click:function(e){return t.handleCreate(2)}}},[t._v("\n      "+t._s(t.$t("i18nView.information.add"))+"\n    ")]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData2,border:""}},[a("el-table-column",{attrs:{type:"index",label:"天数",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"行程",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("el-input",{attrs:{type:"textarea"},model:{value:i.trip,callback:function(e){t.$set(i,"trip",e)},expression:"row.trip"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"date",label:"用餐",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("el-input",{attrs:{type:"textarea"},model:{value:i.dine,callback:function(e){t.$set(i,"dine",e)},expression:"row.dine"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"date",label:"餐厅",align:"center"}},[[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){return t.handleSet(1)}}},[t._v("设置")]),t._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){return t.handleClear(1)}}},[t._v("清除")]),t._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){return t.handleSets(1)}}},[t._v("设为用餐")])]],2),t._v(" "),a("el-table-column",{attrs:{prop:"date",label:"景点",align:"center"}},[[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){return t.handleSet(2)}}},[t._v("设置")]),t._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){return t.handleClear(1)}}},[t._v("清除")]),t._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){return t.handleSets(2)}}},[t._v("设为行程")])]],2),t._v(" "),a("el-table-column",{attrs:{prop:"date",label:"酒店",align:"center"}},[[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){return t.handleSet(3)}}},[t._v("设置")]),t._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){return t.handleClear(1)}}},[t._v("清除")]),t._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){return t.handleCopy()}}},[t._v("复制上一天酒店")])]],2),t._v(" "),a("el-table-column",{attrs:{prop:"date",label:"备注",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("el-input",{attrs:{type:"textarea"},model:{value:i.remark,callback:function(e){t.$set(i,"remark",e)},expression:"row.remark"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"date",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){e.row;var i=e.$index;return[a("el-button",{attrs:{type:"text"},on:{click:function(e){return t.deleteData(i)}}},[t._v("删除")])]}}])})],1)],1),t._v(" "),a("template",{slot:"footer"},[a("el-button",{on:{click:function(e){t.visible=!1}}},[t._v(t._s(t.$t("i18nView.information.cancel")))]),t._v(" "),a("el-button",{attrs:{type:"primary",loading:t.saveBtn},on:{click:function(e){return t.dataFormSubmitHandle()}}},[t._v(t._s(t.$t("i18nView.information.save")))])],1),t._v(" "),a("el-dialog",{attrs:{width:"50%",title:"设置",visible:t.innerVisible,center:"","append-to-body":""},on:{"update:visible":function(e){t.innerVisible=e}}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.restaurantListData,border:""},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",align:"center",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"名称",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:"地址",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"telphone",label:"联系电话"}}),t._v(" "),a("el-table-column",{attrs:{prop:"pay_type_name",label:"支付类型"}})],1),t._v(" "),a("template",{slot:"footer"},[a("el-button",{on:{click:function(e){t.innerVisible=!1}}},[t._v(t._s(t.$t("i18nView.information.cancel")))]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.handleSubmit()}}},[t._v(t._s(t.$t("i18nView.information.save")))])],1)],2)],2)},w=[],b=a("bd86"),$=(a("96cf"),a("3b8d")),k=(a("7f7f"),a("7514"),a("d088")),V={mixins:[k["a"]],data:function(){return{visible:!1,saveBtn:!1,dialogVisible:!1,innerVisible:!1,dataForm:{type:1,code:"",name:"",status:1,plan_group:"",info_type_id:"",info_type_name:"",fax:"",op_user_id:"",op_organization_id:"",op_user_name:"",sale_user_id:"",sale_organization_id:"",sale_user_name:"",logo:"",company_id:"",company_name:"",intro:"",remark:"",imagesArr:[],filesArr:[],product_dataArr:{info:{remark:"",flight:"",from_city:"",plan_day:"",car_explain:"",room_explain:"",outlay:""},cost:[],exdata:{party_op:"",source:"",market:"",shopping:"",self_cost:"",one_price:"",passport:"",leader_expense:"",service_expense:"",pay_type:"",shopping_team_no:"",kingpower_team_no:""},trips:[]}},listQuery:{page:1,limit:1e3,keyword:"",status:""},listQuery2:{page:1,limit:1e3},restaurantQuery:{page:1,limit:1e3},proTypeList:[{id:0,name:"默认"},{id:1,name:"可选"}],dataRule:{info_type_id:[{required:!0,message:this.$t("i18nView.information.select")+this.$t("i18nView.information.infoType"),trigger:"blur"}],name:[{required:!0,message:this.$t("i18nView.information.input")+this.$t("i18nView.information.name"),trigger:"blur"}],logo:[{required:!0,message:this.$t("i18nView.information.select")+this.$t("i18nView.information.icon"),trigger:"blur"}],imagesArr:[{required:!0,message:this.$t("i18nView.information.select")+this.$t("i18nView.information.pic"),trigger:"blur"}],url:[{required:!0,message:this.$t("i18nView.information.input")+this.$t("i18nView.information.url"),trigger:"blur"}],intro:[{required:!0,message:this.$t("i18nView.information.input")+this.$t("i18nView.information.introduce"),trigger:"blur"}],contact:[{required:!0,message:this.$t("i18nView.information.input")+this.$t("i18nView.information.contacts"),trigger:"blur"}],telphone:[{required:!0,message:this.$t("i18nView.information.input")+this.$t("i18nView.information.telePhone"),trigger:"blur"}],email:[{required:!0,message:this.$t("i18nView.information.input")+this.$t("i18nView.information.email"),trigger:"blur"}],filesArr:[{required:!0,message:this.$t("i18nView.information.select")+this.$t("i18nView.information.files"),trigger:"blur"}]},userListArr:[],infoTypeList:[],companyListArr:[],cityListData:[],marketListData:[],buyListDatas:[],selFcostData:[],payTypeData:[],serviceData:[],tableData:[],tableData2:[],restaurantListData:[],dialogImageUrl:""}},watch:{tableData:{handler:function(t,e){t.map((function(t){t.total=t.count*t.price}))},deep:!0}},computed:{},created:function(){this.infoTypeList=this.infoTypeListData()},methods:(h={init:function(t){var e=this;this.visible=!0,this.userListData(),this.companyListData(),this.getCityList(),this.buyListData(),this.selFcostList(),this.payTypeListData(),this.serviceListData(),this.$nextTick((function(){e.$refs.dataForm.resetFields(),t?e.dataForm=t:(e.dataForm={type:1,code:"",name:"",status:1,plan_group:"",info_type_id:"",info_type_name:"",fax:"",op_user_id:"",op_organization_id:"",op_user_name:"",sale_user_id:"",sale_organization_id:"",sale_user_name:"",logo:"",company_id:"",company_name:"",intro:"",remark:"",imagesArr:[],filesArr:[],product_dataArr:[{info:{remark:"",flight:"",from_city:"",plan_day:"",car_explain:"",room_explain:"",outlay:""},cost:[],exdata:{party_op:"",source:"",market:"",shopping:"",self_cost:"",one_price:"",passport:"",leader_expense:"",service_expense:"",pay_type:"",shopping_team_no:"",kingpower_team_no:""},trips:[]}]},e.tableData=[],e.tableData2=[])}))},userListData:function(){var t=this;l(this.listQuery).then((function(e){t.userListArr=e.data.data}))},companyListData:function(){var t=this;c(this.listQuery2).then((function(e){t.companyListArr=e.data.data}))},getCityList:function(){var t=this;d({type:"customersource"}).then((function(e){t.cityListData=e.data}))}},Object(b["a"])(h,"getCityList",(function(){var t=this;d({type:"shichangrex"}).then((function(e){t.marketListData=e.data}))})),Object(b["a"])(h,"selFcostList",(function(){var t=this;d({type:"selfcost"}).then((function(e){t.selFcostData=e.data}))})),Object(b["a"])(h,"buyListData",(function(){var t=this;d({type:"shopping"}).then((function(e){t.buyListDatas=e.data}))})),Object(b["a"])(h,"payTypeListData",(function(){var t=this;d({type:"settlement"}).then((function(e){t.payTypeData=e.data}))})),Object(b["a"])(h,"serviceListData",(function(){var t=this;d({type:"service"}).then((function(e){t.serviceData=e.data}))})),Object(b["a"])(h,"typeChange",(function(t){var e={};e=this.infoTypeList.find((function(e){return e.id===t})),this.dataForm.info_type_name=e.name})),Object(b["a"])(h,"opChange",(function(t){var e={};e=this.userListArr.find((function(e){return e.id===t})),this.dataForm.op_user_name=e.name,this.dataForm.op_organization_id=e.department_id})),Object(b["a"])(h,"saleChange",(function(t){var e={};e=this.userListArr.find((function(e){return e.id===t})),this.dataForm.sale_user_name=e.name,this.dataForm.op_organization_id=e.department_id})),Object(b["a"])(h,"companyChange",(function(t){var e={};e=this.companyListArr.find((function(e){return e.id===t})),this.dataForm.company_name=e.name})),Object(b["a"])(h,"handleSet",(function(t){var e=this;this.innerVisible=!0,s(this.restaurantQuery).then((function(t){e.restaurantListData=t.data.data}))})),Object(b["a"])(h,"handleClear",(function(t){})),Object(b["a"])(h,"handleSets",(function(t){})),Object(b["a"])(h,"handleSelectionChange",(function(t){console.log(t)})),Object(b["a"])(h,"handleSubmit",(function(){this.innerVisible=!1})),Object(b["a"])(h,"handleCreate",(function(t){1==t?this.tableData.push({name:"",count:0,price:0,total:0,type:"默认"}):this.tableData2.push({trips:"",dine:"",hotels:[],scenics:[],restaurants:[],remark:""})})),Object(b["a"])(h,"coChange",(function(){})),Object(b["a"])(h,"onBeforeUploadImage",(function(t){return"image/jpg"!==t.type&&"image/jpeg"!==t.type&&"image/png"!==t.type&&"image/gif"!==t.type?(this.$message.error(this.$t("i18nView.information.uploadTip",{format:"jpg、png、gif"})),!1):t.size/1024/1024>10?(this.$message.error(this.$t("i18nView.information.uploadSize",{format:"10MB"})),!1):void 0})),Object(b["a"])(h,"onBeforeUploadFile",(function(t){return"application/vnd.ms-excel"!==t.type&&"pplication/msword"!==t.type&&"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"!==t.type&&"application/vnd.openxmlformats-officedocument.wordprocessingml.document"!==t.type?(this.$message.error(this.$t("i18nView.information.uploadTip",{format:"doc、docx、xls、xlsx"})),!1):t.size/1024/1024>10?(this.$message.error(this.$t("i18nView.information.uploadSize",{format:"10MB"})),!1):void 0})),Object(b["a"])(h,"handleExceed",(function(t,e){this.$message.warning("最多只能上传1张图标")})),Object(b["a"])(h,"UploadIcon",(function(t){var e=this,a=new FormData;a.append("Filedata",t.file),p(a).then((function(t){2e3===t.code?(e.$message({type:"success",duration:1e3,message:e.$t("i18nView.information.upload")+e.$t("i18nView.information.success")}),e.dataForm.logo=t.data.url):e.$message.error(t.msg)}))})),Object(b["a"])(h,"deleteIcon",(function(){this.dataForm.logo="",this.$refs.uploadIcon.clearFiles()})),Object(b["a"])(h,"UploadImage",(function(t){var e=this,a=new FormData;a.append("Filedata",t.file),p(a).then((function(t){2e3===t.code?(e.$message({type:"success",duration:1e3,message:e.$t("i18nView.information.upload")+e.$t("i18nView.information.success")}),e.dataForm.imagesArr.push(t.data)):e.$message.error(t.msg)}))})),Object(b["a"])(h,"handlePictureCardPreview",(function(t){this.dialogImageUrl=t.url,this.dialogVisible=!0})),Object(b["a"])(h,"handleRemoveImage",(function(t,e){this.dataForm.imagesArr=e})),Object(b["a"])(h,"UploadFile",(function(t){var e=this,a=new FormData;a.append("Filedata",t.file),p(a).then((function(t){2e3===t.code?(e.$message({type:"success",duration:1e3,message:e.$t("i18nView.information.upload")+e.$t("i18nView.information.success")}),e.dataForm.filesArr.push(t.data)):e.$message.error(t.msg)}))})),Object(b["a"])(h,"handleRemoveFile",(function(t,e){this.dataForm.filesArr=e})),Object(b["a"])(h,"dataFormSubmitHandle",(function(){var t=this;this.$refs["dataForm"].validate(function(){var e=Object($["a"])(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a&&(t.saveBtn=!0,t.dataForm.id?f(t.dataForm).then((function(e){2e3===e.code?t.$message({type:"success",duration:1e3,message:t.$t("i18nView.information.edit")+t.$t("i18nView.information.success"),onClose:function(){t.visible=!1,t.saveBtn=!1,t.$emit("callBcak","edit")}}):t.$message.error(e.msg)})):m(t.dataForm).then((function(e){2e3===e.code?t.$message({type:"success",duration:1e3,message:t.$t("i18nView.information.add")+t.$t("i18nView.information.success"),onClose:function(){t.visible=!1,t.saveBtn=!1,t.$emit("callBcak","add")}}):t.$message.error(e.msg)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})),h)},x=V,F=(a("7fc7"),a("2877")),L=Object(F["a"])(x,v,w,!1,null,null,null),D=L.exports,A={name:"HotelMange",components:{Pagination:g["a"],productAddOrUpdate:D},directives:{waves:_["a"]},filters:{},mixins:[k["a"]],data:function(){return{tabMapOptions:[],activeName:"all",tableKey:0,list:null,total:0,listLoading:!0,listQuery:{page:1,limit:10,name:"",start_date:"",end_date:"",orderByColumn:"updated_at",orderByDirection:"desc",code:"",status:"",info_type_id:"",info_type_name:"",logo:"",plan_group:"",intro:"",fax:"",op_user_id:"",op_organization_id:"",op_user_name:"",sale_user_id:"",sale_organization_id:"",sale_user_name:"",company_id:"",company_name:"",remark:""},importanceOptions:[1,2,3],sortOptions:[{label:"ID Ascending",key:"+id"},{label:"ID Descending",key:"-id"}],statusOptions:["published","draft","deleted"],showReviewer:!1,temp:{id:void 0,importance:1,remark:"",timestamp:new Date,title:"",type:"",status:"published"},dialogFormVisible:!1,dialogStatus:"",textMap:{update:"Edit",create:"Create"},dialogPvVisible:!1,pvData:[],infoTypeList:[],rules:{type:[{required:!0,message:"type is required",trigger:"change"}],timestamp:[{type:"date",required:!0,message:"timestamp is required",trigger:"change"}],title:[{required:!0,message:"title is required",trigger:"blur"}]},downloadLoading:!1,listData:[]}},computed:{},watch:{},created:function(){this.infoTypeList=this.infoTypeListData(),this.getList()},methods:{callBcak:function(t){"add"===t?(this.listQuery.page=1,this.getList()):this.getList()},getList:function(){var t=this;this.listLoading=!0,r(this.listQuery).then((function(e){t.list=e.data.data,t.total=e.data.count,setTimeout((function(){t.listLoading=!1}),1500)}))},handleSelectionChange:function(t){var e=this;t.map((function(t){e.listData.push({id:t.id,status:t.status,is_delete:t.is_delete})}))},handleLock:function(){var t=this;0!==this.listData.length?(this.listData.map((function(t){t.status=2})),u({listData:this.listData}).then((function(e){2e3===e.code?t.$message({type:"success",duration:1e3,message:t.$t("i18nView.information.lock")+t.$t("i18nView.information.success"),onClose:function(){t.getList()}}):t.$message.error(e.msg)}))):this.$message({type:"warning",duration:1e3,message:this.$t("i18nView.information.pleaseCheckTheData")})},handleUnLock:function(){var t=this;0!==this.listData.length?(this.listData.map((function(t){t.status=1})),u({listData:this.listData}).then((function(e){2e3===e.code?t.$message({type:"success",duration:1e3,message:t.$t("i18nView.information.unLock")+t.$t("i18nView.information.success"),onClose:function(){t.getList()}}):t.$message.error(e.msg)}))):this.$message({type:"warning",duration:1e3,message:this.$t("i18nView.information.pleaseCheckTheData")})},handleFilter:function(){this.listQuery.page=1,this.getList()},sortChange:function(t){var e=t.prop,a=t.order;"id"===e&&this.sortByID(a)},sortByID:function(t){this.listQuery.sort="ascending"===t?"+id":"-id",this.handleFilter()},handleCreateUpdate:function(t){this.$refs.productAddOrUpdate.init(t?JSON.parse(JSON.stringify(t)):"")},handleDelete:function(t){var e=this;if(t)this.listData=[],this.listData.push({id:t.id,status:t.status,is_delete:t.is_delete});else if(0===this.listData.length)return void this.$message({type:"warning",duration:1e3,message:this.$t("i18nView.information.pleaseCheckTheData")});this.$confirm(this.$t("i18nView.information.areYouSureDeleteThisData"),this.$t("i18nView.information.tips"),{confirmButtonText:this.$t("i18nView.information.confirm"),cancelButtonText:this.$t("i18nView.information.cancel"),type:"warning"}).then((function(){e.listData.map((function(t){t.is_delete=2})),u({listData:e.listData}).then((function(t){2e3===t.code?e.$message({type:"success",duration:1e3,message:e.$t("i18nView.information.delete")+e.$t("i18nView.information.success"),onClose:function(){e.getList()}}):e.$message.error(t.msg)}))})).catch((function(t){e.$message.error(t.msg)}))},handleDownload:function(){var t=this;this.downloadLoading=!0,Promise.all([a.e("chunk-5bdd67a2"),a.e("chunk-2d3eea4a"),a.e("chunk-581b2547")]).then(a.bind(null,"4bf8d")).then((function(e){var a=["timestamp","title","type","importance","status"],i=["timestamp","title","type","importance","status"],n=t.formatJson(i);e.export_json_to_excel({header:a,data:n,filename:"table-list"}),t.downloadLoading=!1}))},formatJson:function(t){return this.list.map((function(e){return t.map((function(t){return"timestamp"===t?Object(y["f"])(e[t]):e[t]}))}))},getSortClass:function(t){var e=this.listQuery.sort;return e==="+".concat(t)?"ascending":"descending"}}},T=A,C=Object(F["a"])(T,i,n,!1,null,null,null);e["default"]=C.exports},d088:function(t,e,a){"use strict";var i={zh:{i18nView:{information:{hotel:"酒店",keyword:"关键字",search:"搜索",add:"添加",export:"导出",id:"Id",name:"名称",hotelName:"酒店名称",company:"公司名称",infoType:"信息类型",icon:"图标",pic:"图片",url:"网址",price:"价格",valuationMethod:"计价方式",telePhone:"联系电话",fax:"传真",contacts:"联系人",city:"城市",hotelType:"酒店类别",hotelLevel:"酒店级别",address:"地址",email:"邮箱",website:"官网",payType:"支付类型",creator:"创建人",files:"附件",remarks:"备注",modifier:"修改者",actions:"操作",edit:"编辑",delete:"删除",team:"团队/TEAM",fit:"自由行/FIT",cancel:"取消",confirm:"确定",save:"保存",introduce:"介绍",detailIntroduce:"详细介绍",AccountBookRemark:"账本备注",unitPrice:"单价",packagePrice:"套餐价",UKey:"UKey",returnType:"返佣类型",level:"等级",category:"类别",startTime:"开始时间",endTime:"结束时间",type:"类型",childPrice:"小孩价格",costPrice:"成本价",childCostPrice:"小孩成本价",otherInfo:"其他信息",maskInfo:"备注信息",shop:"购物店",taxRate:"税率",twoTaxRate:"二次税率",shopspot:"购物点",buy:"购物",selfcost:"自费",companyRoyalty:"公司提成",companySecondRoyalty:"公司二次提成",tourGuideRoyalty:"导游提成",leaderRoyalty:"领队提成",calculationType:"计算方式",showType:"显示方式",commissionType:"佣金类型",englishName:"英文名称",fullName:"全称",key:"key",companyManager:"公司经理",operationsManager:"操作经理",operator:"操作者",charger:"负责人",groupNumberPrefix:"团号前缀",businessLicenseNo:"营业执照号",companyAddress:"公司地址",code:"编码",touristDestination:"客源地",market:"市场",success:"成功",upload:"上传",uploadTip:"上传文件格式只能为{format}",uploadSize:"上传文件大小不能大于{format}",lock:"锁定",unLock:"激活",tips:"提示",select:"请选择",input:"请输入",plan_group:"团类",seller:"销售者",company_name:"组团社",calculationDays:"天数计算",systemSetup:"系统设置",countingDays:"算天数",countingNights:"算晚数",origin:"始发地",flight:"航班",firstPartyOperation:"甲方操作",tripDays:"行程天数",one_price:"人头费",passport:"过关",service_expense:"导游小费",leader_expense:"领队佣金",shopping_team_no:"进店团号",kingpower_team_no:"免税店团号",car_explain:"订车说明",room_explain:"订房说明",outlay:"团费备注",tourFee:"团费",pleaseCheckTheData:"请先勾选数据",areYouSureDeleteThisData:"确定要删除该数据?",status:"状态"},areas:{all:"全部",bangkok:"曼谷",pattaya:"芭提雅",samed:"沙美岛",rayong:"罗勇",ayutthaya:"大城",huahin:"华欣",kanchanaburi:"北碧",samui:"苏梅岛",surat:"SURAT",kohchang:"象岛"},status:{open:"激活",close:"锁定",all:"全部"},payTypeList:{pay:"公司支出(VOUCHER)",charges:"公司收费",revenue:"公司收入",tourGuidePays:"导游支出",pays:"公司支出",tourGuidePay:"导游支出(VOUCHER)"},creatorList:{zhangshan:"张山",liudehua:"刘德华",zhangxueyou:"张学友",zhoujielun:"周杰伦"},returnTypeList:{noReturn:"无返佣",fixedReturn:"固定返佣",consumptionPercentage:"按照消费百分比返佣",groupFinancialStaff:"按团财务人数返佣",adultsAndChildren:"按大人小孩数返佣",fixedValue:"固定值",returnedCommissionPercentage:"返佣百分比",everyoneReturns:"每人返佣",everyAdultReturns:"每大人返佣",everyChildReturns:"每小孩返佣"},computedType:{proportion:"按比例%",piece:"按件数(/件)",fixedValue:"定值",custom:"自定义"},showType:{royaltyRate:"有提成率时显示",shop:"有购物时显示",allShow:"始终显示"},commissionType:{default:"默认类型",company:"公司佣金",leader:"导游佣金"},common:{selectCity:"选择城市",selectHotelType:"选择酒店类别",selectPayType:"选择支付类型",selectDate:"选择日期",startDate:"开始日期",endDate:"结束日期",to:"至",upload:"点击上传",priceInfo:"价格信息",price:"成人价",kidPrice:"小孩价",num:"限预定数量"}}},en:{i18nView:{information:{hotel:"Hotel",hotelName:"Hotel",keyword:"keyword",search:"search",add:"add",export:"export",id:"ID",name:"HotelName",company:"company",infoType:"infoType",icon:"icon",pic:"image",url:"url",valuationMethod:"valuationMethod",price:"price",telePhone:"telePhone",fax:"fax",contacts:"contacts",city:"city",hotelType:"hotelType",hotelLevel:"hotelLevel",address:"address",email:"email",website:"website",payType:"payType",creator:"creator",files:"files",remarks:"remark",modifier:"修改者",actions:"action",edit:"edit",delete:"delete",team:"TEAM",fit:"FIT",cancel:"cancel",confirm:"confirm",status:"status"},areas:{all:"All",bangkok:"bangkok",pattaya:"pattaya",samed:"samed",rayong:"rayong",ayutthaya:"ayutthaya",huahin:"huahin",kanchanaburi:"kanchanaburi",samui:"samui",surat:"SURAT",kohchang:"kohchang"},status:{publish:"开启",draft:"关闭",all:"全部"},payTypeList:{pay:"公司支出(VOUCHER)",charges:"公司收费",revenue:"公司收入",tourGuidePays:"导游支出",pays:"公司支出",tourGuidePay:"导游支出(VOUCHER)"},creatorList:{zhangshan:"张山",liudehua:"刘德华",zhangxueyou:"张学友",zhoujielun:"周杰伦"}}}},n="i18nView";e["a"]={created:function(){this.$i18n.getLocaleMessage("zh")[n]||(this.$i18n.mergeLocaleMessage("en",i.en),this.$i18n.mergeLocaleMessage("zh",i.zh))},data:function(){return{statusOptions:[]}},methods:{setCityOptions:function(){return[{key:"all",label:this.$t("i18nView.areas.all")},{key:"bangkok",label:this.$t("i18nView.areas.bangkok")},{key:"pattaya",label:this.$t("i18nView.areas.pattaya")},{key:"samed",label:this.$t("i18nView.areas.samed")},{key:"rayong",label:this.$t("i18nView.areas.rayong")},{key:"ayutthaya",label:this.$t("i18nView.areas.ayutthaya")},{key:"huahin",label:this.$t("i18nView.areas.huahin")},{key:"kanchanaburi",label:this.$t("i18nView.areas.kanchanaburi")},{key:"samui",label:this.$t("i18nView.areas.samui")},{key:"surat",label:this.$t("i18nView.areas.surat")},{key:"kohchang",label:this.$t("i18nView.areas.kohchang")}]},getStatus:function(){this.statusOptions=[{key:"",name:this.$t("i18nView.status.all")},{key:1,name:this.$t("i18nView.status.open")},{key:2,name:this.$t("i18nView.status.close")}]},payTypeListData:function(){return[{id:0,name:this.$t("i18nView.payTypeList.pay")},{id:1,name:this.$t("i18nView.payTypeList.charges")},{id:2,name:this.$t("i18nView.payTypeList.revenue")},{id:3,name:this.$t("i18nView.payTypeList.tourGuidePays")},{id:4,name:this.$t("i18nView.payTypeList.pays")},{id:5,name:this.$t("i18nView.payTypeList.tourGuidePay")}]},returnTypeListData:function(){return[{id:0,name:this.$t("i18nView.returnTypeList.noReturn")},{id:1,name:this.$t("i18nView.returnTypeList.fixedReturn")},{id:2,name:this.$t("i18nView.returnTypeList.consumptionPercentage")},{id:3,name:this.$t("i18nView.returnTypeList.groupFinancialStaff")},{id:4,name:this.$t("i18nView.returnTypeList.adultsAndChildren")}]},valuationMethodListData:function(){return[{id:0,name:this.$t("i18nView.information.unitPrice")},{id:1,name:this.$t("i18nView.information.packagePrice")}]},infoTypeListData:function(){return[{id:0,name:this.$t("i18nView.information.team")},{id:1,name:this.$t("i18nView.information.fit")}]},computedTypeListData:function(){return[{id:1,name:this.$t("i18nView.computedType.proportion")},{id:2,name:this.$t("i18nView.computedType.piece")},{id:3,name:this.$t("i18nView.computedType.fixedValue")},{id:4,name:this.$t("i18nView.computedType.custom")}]},showTypeListData:function(){return[{id:1,name:this.$t("i18nView.showType.royaltyRate")},{id:2,name:this.$t("i18nView.showType.shop")},{id:3,name:this.$t("i18nView.showType.allShow")}]},commissionTypeListData:function(){return[{id:1,name:this.$t("i18nView.commissionType.default")},{id:2,name:this.$t("i18nView.commissionType.company")},{id:3,name:this.$t("i18nView.commissionType.leader")}]},prorateTypeListData:function(){return[{id:0,name:this.$t("i18nView.information.systemSetup")},{id:1,name:this.$t("i18nView.information.countingDays")},{id:2,name:this.$t("i18nView.information.countingNights")}]}}}},e4e7:function(t,e,a){}}]);